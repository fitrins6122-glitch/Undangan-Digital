<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Undangan Sidang Promosi Doktor - Dr. Wahyitno, S.Pd., M.M.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Montserrat:wght@300;400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, doc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCFgS4L5Xrg2dUtZxR8d1H3HbzPVYRINao",
            authDomain: "undangan-digital-wahyitno.firebaseapp.com",
            projectId: "undangan-digital-wahyitno",
            storageBucket: "undangan-digital-wahyitno.firebasestorage.app",
            messagingSenderId: "846818623173",
            appId: "1:846818623173:web:17bc6c0e338f82e19bfaac",
            measurementId: "G-NTZ9HT3474"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = "undangan-digital-wahyitno";

        window.firebaseStore = { auth, db, appId };

        const initFirebase = async () => {
            try {
                await signInAnonymously(auth);
                onAuthStateChanged(auth, (user) => {
                    if (user) { loadPublicRSVP(); }
                });
            } catch (error) { console.error("Firebase Login Error:", error); }
        };

        const loadPublicRSVP = () => {
            const colRef = collection(db, 'artifacts', appId, 'public', 'data', 'rsvp');
            onSnapshot(colRef, (snapshot) => {
                let hadir = 0, ragu = 0, tidak = 0;
                const docs = [];
                snapshot.forEach(d => docs.push(d.data()));
                docs.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

                const messagesHTML = docs.map(data => {
                    if (data.status === 'Hadir') hadir++;
                    else if (data.status === 'Masih Ragu') ragu++;
                    else tidak++;
                    const badge = data.status === 'Hadir' ? 'bg-gold/20 text-gold' : 'bg-white/10 text-white/50';
                    return `
                        <div class="bg-white/5 border border-white/10 p-2 rounded-lg mb-1.5 text-left backdrop-blur-md">
                            <div class="flex justify-between items-center mb-1">
                                <span class="font-bold text-[8px] text-white uppercase tracking-tighter">${data.name}</span>
                                <span class="text-[5px] px-1.5 py-0.5 rounded-full font-bold uppercase ${badge}">${data.status}</span>
                            </div>
                            <p class="text-[8px] text-white/70 italic leading-tight">"${data.message || 'Doa terbaik untuk Bapak.'}"</p>
                        </div>
                    `;
                }).join('');

                const safeSet = (id, val) => { const el = document.getElementById(id); if(el) el.innerText = val; };
                safeSet('count-hadir', hadir);
                safeSet('count-ragu', ragu);
                safeSet('count-tidak', tidak);
                safeSet('count-total', hadir + ragu + tidak);
                
                const container = document.getElementById('public-messages');
                if (container) container.innerHTML = messagesHTML || '<p class="text-[8px] opacity-20 italic py-2 text-center">Belum ada ucapan.</p>';
            });
        };

        window.submitRSVP = async () => {
            const name = document.getElementById('rsvp-name').value.trim();
            const rel = document.getElementById('rsvp-relation').value;
            const msg = document.getElementById('rsvp-message').value.trim();
            const status = document.getElementById('rsvp-status').value;

            if (!name || !status) return alertModal("Lengkapi nama dan status kehadiran.");
            if (!auth.currentUser) return alertModal("Koneksi database terputus.");

            const btn = document.getElementById('btn-send-rsvp');
            btn.disabled = true;
            btn.innerText = "Mengirim...";

            try {
                const colRef = collection(db, 'artifacts', appId, 'public', 'data', 'rsvp');
                await addDoc(colRef, {
                    name, relation: rel, message: msg, status,
                    timestamp: new Date().toISOString(),
                    uid: auth.currentUser.uid
                });
                alertModal("Konfirmasi terkirim. Terima kasih!");
                document.getElementById('rsvp-name').value = '';
                document.getElementById('rsvp-message').value = '';
            } catch (e) { alertModal("Gagal menyimpan."); } finally {
                btn.disabled = false;
                btn.innerText = "Kirim Konfirmasi";
            }
        };

        window.onload = () => { initFirebase(); startCountdown(); };
    </script>

    <style>
        :root {
            --deep-sage: #3d473b;
            --sage-accent: #7b8a78;
            --gold: #D4AF37;
            --cream: #f9f7f2;
        }

        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; margin: 0; padding: 0; }
        body, html {
            height: 100%; width: 100%;
            background-color: #121412; color: var(--cream);
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
        }
        
        .font-cinzel { font-family: 'Cinzel', serif; }
        .font-playfair { font-family: 'Playfair Display', serif; }
        .font-script { font-family: 'Great Vibes', cursive; }

        #app-container {
            max-width: 450px; margin: 0 auto; height: 100dvh; position: relative;
            background: linear-gradient(180deg, #2d342d 0%, #1a1e1a 100%);
            box-shadow: 0 0 100px rgba(0,0,0,0.8);
            overflow-y: scroll; scroll-snap-type: y mandatory; scrollbar-width: none;
            padding-bottom: env(safe-area-inset-bottom);
        }
        #app-container::-webkit-scrollbar { display: none; }

        section {
            width: 100%; height: 100dvh; scroll-snap-align: start;
            display: flex; flex-direction: column; 
            align-items: center; padding: 20px; position: relative;
            overflow: hidden; flex-shrink: 0;
            justify-content: center; /* Default center for iPhone ✨ */
        }
        
        /* Layout Scrollable for Team & RSVP */
        .sec-scrollable { height: 100dvh; justify-content: flex-start; padding-top: 30px; padding-bottom: 100px; }

        .batik-pattern {
            position: absolute; inset: 0; opacity: 0.04; pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M40 0l40 40-40 40L0 40z' fill='none' stroke='%23ffffff' stroke-width='1'/%3E%3C/svg%3E");
        }

        .watercolor-blob {
            position: absolute; width: 300px; height: 300px; border-radius: 50%;
            filter: blur(80px); opacity: 0.2; pointer-events: none;
            background: radial-gradient(circle, var(--sage-accent) 0%, transparent 70%);
        }
        .blob-1 { top: -50px; left: -100px; }
        .blob-2 { bottom: -50px; right: -100px; background: radial-gradient(circle, var(--gold) 0%, transparent 70%); opacity: 0.1; }

        .crystal-frame-3d {
            width: 190px; height: 260px; position: relative;
            transform-style: preserve-3d; transform: rotateY(-10deg) rotateX(5deg);
        }
        .glass-layer {
            position: absolute; inset: 0; background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px); border-radius: 20px; border: 2px solid rgba(212, 175, 55, 0.4);
            box-shadow: 0 40px 80px rgba(0,0,0,0.6); overflow: hidden;
            display: flex; align-items: center; justify-content: center;
        }
        .glass-layer img { width: 100%; height: 100%; object-fit: cover; }

        .bottom-nav {
            background-color: rgba(43, 51, 42, 0.98); border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 40px; padding: 10px 6px; display: flex;
            justify-content: space-around; align-items: center; box-shadow: 0 10px 40px rgba(0,0,0,0.8);
            backdrop-filter: blur(15px);
        }
        .nav-link {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            flex: 1; color: rgba(249, 247, 242, 0.3); transition: 0.2s;
        }
        .nav-link svg { width: 18px; height: 18px; margin-bottom: 2px; }
        .nav-link span { font-size: 5px; font-weight: 800; text-transform: uppercase; }
        .nav-link.active { color: var(--gold) !important; transform: scale(1.1); }

        .btn-pop {
            background: var(--cream); color: var(--deep-sage); font-weight: 800; padding: 10px 24px;
            border-radius: 50px; border: 2px solid var(--gold); letter-spacing: 0.1em;
            text-transform: uppercase; font-size: 10px; transition: 0.3s;
        }

        .music-control { position: fixed; bottom: 100px; left: 20px; z-index: 400; }
        .music-btn {
            width: 38px; height: 38px; border-radius: 50%; background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px); display: flex; align-items: center; justify-content: center;
            color: var(--gold); border: 1px solid rgba(212, 175, 55, 0.4);
        }

        input, select, textarea {
            background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px; padding: 10px 12px; color: white; font-size: 11px; width: 100%; outline: none;
        }

        .recap-item {
            background: rgba(0,0,0,0.4); border: 1px solid rgba(212,175,55,0.2);
            border-radius: 10px; padding: 6px; flex: 1; text-align: center;
        }

        .countdown-num { font-size: 1.8rem; font-weight: 800; color: var(--gold); line-height: 1; }
        .countdown-label { font-size: 8px; text-transform: uppercase; color: rgba(255,255,255,0.4); font-weight: 700; margin-top: 5px; }

        .glass-panel {
            background: rgba(255, 255, 255, 0.04); backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4); width: 100%;
        }

        .frame-straight {
            width: 100%; max-width: 320px; height: 180px;
            border-radius: 12px; border: 2px solid rgba(212, 175, 55, 0.5);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); overflow: hidden;
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px);
            position: relative;
        }

        .location-visual-card {
            width: 100%; height: 100%; background: url('https://images.unsplash.com/photo-1577086664693-894d8405334a?auto=format&fit=crop&q=80&w=800'); 
            background-size: cover; background-position: center; position: relative;
        }
        .map-overlay {
            position: absolute; inset: 0; background: linear-gradient(0deg, rgba(26, 30, 26, 0.85) 0%, transparent 100%);
            display: flex; flex-direction: column; justify-content: flex-end; align-items: center; padding: 20px;
        }
        .pin-pulse {
            position: absolute; width: 15px; height: 15px; background: var(--gold); border-radius: 50%;
            animation: pulse 2s infinite; top: 40%;
        }
        @keyframes pulse {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); }
        }
    </style>
</head>
<body>

<div id="app-container">
    <div class="batik-pattern"></div>
    <div class="watercolor-blob blob-1"></div>
    <div class="watercolor-blob blob-2"></div>

    <audio id="bg-music" loop>
        <source src="https://res.cloudinary.com/dfbkph06k/video/upload/v1772080461/videoplayback_2_pgcxvx.mp3" type="audio/mpeg">
    </audio>

    <div class="music-control">
        <button onclick="toggleMusic()" class="music-btn">
            <svg id="music-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path id="music-path" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg>
        </button>
    </div>

    <!-- 1. HOME -->
    <section id="sec-opening">
        <div class="text-center z-10 w-full px-6 -mt-8">
            <img src="https://res.cloudinary.com/dfbkph06k/image/upload/v1771851801/LOGO_UNPAS_vmoyf9.png" alt="Logo" class="w-19 mx-auto mb-8">
            <p class="font-script text-5xl mb-1 text-gold">Undangan</p>
            <h2 class="font-cinzel font-bold text-base tracking-[0.2em] mb-2 uppercase">Sidang Promosi Doktor</h2>
            <p class="text-[10px] tracking-[0.3em] opacity-70 mb-8 border-y border-white/10 py-1.5 uppercase font-bold text-center">Pascasarjana Universitas Pasundan</p>
            <h1 class="font-playfair text-l font-bold text-white mb-10 tracking-wide leading-tight whitespace-nowrap overflow-hidden text-ellipsis px-4">Dr. Wahyitno, S.Pd., M.M.</h1>
            <div class="mb-10 bg-white/5 py-4 px-8 rounded-3xl border border-white/10 inline-block min-w-[200px] backdrop-blur-sm shadow-xl text-center">
                <p class="opacity-40 text-[7px] uppercase tracking-widest mb-1">Kepada Bapak/Ibu/Saudara/i:</p>
                <p class="font-playfair text-white font-bold text-lg tracking-wide italic">Tamu Undangan</p>
            </div>
            <br>
            <button onclick="bukaUndangan()" class="btn-pop shadow-2xl font-cinzel">Buka Undangan</button>
        </div>
    </section>

    <!-- 2. PROFIL -->
    <section id="sec-profil">
        <div class="text-center w-full px-8 -mt-4">
            <p class="font-script text-4xl text-gold mb-6 text-center">Assalamu’alaikum</p>
            <p class="text-[11px] leading-relaxed text-white/70 mb-8 italic text-center px-4">Tanpa mengurangi rasa hormat kami bermaksud mengundang Bapak/Ibu pada Sidang Promosi Doktor:</p>
            <div class="profile-3d-container flex justify-center items-center">
                <div class="crystal-frame-3d shadow-gold/20 shadow-2xl">
                    <div class="glass-layer">
                        <img src="https://res.cloudinary.com/dfbkph06k/image/upload/v1771885853/WhatsApp_Image_2026-02-23_at_20.54.07_djp2nw.jpg" alt="Foto Profil">
                    </div>
                </div>
            </div>
            <h2 class="font-playfair text-lg font-bold text-white mb-2 tracking-wide text-center mt-10 whitespace-nowrap overflow-hidden text-ellipsis px-4">Dr. Wahyitno, S.Pd., M.M.</h2>
            <div class="h-[1px] w-16 bg-gold/40 mx-auto mt-4"></div>
        </div>
    </section>

    <!-- 3. ACARA -->
    <section id="sec-acara">
        <div class="w-full max-w-[420px] px-4 text-center">
            <div class="glass-panel p-6 border-gold/20 shadow-xl">
                <img src="https://res.cloudinary.com/dfbkph06k/image/upload/v1771851801/LOGO_UNPAS_vmoyf9.png" alt="Logo UNPAS" class="w-14 mx-auto mb-6">
                
                <h2 class="font-cinzel text-[13px] font-bold text-white leading-relaxed tracking-wide uppercase px-1">
                    PENGARUH KEPEMIMPINAN TRANSFORMASIONAL, BUDAYA ORGANISASI DAN KOMPETENSI TEKNIS TERHADAP ETOS KERJA SERTA IMPLIKASINYA PADA KINERJA KARYAWAN YANG DIMODERASI OLEH KEBIJAKAN KOMPENSASI
                </h2>
                <p class="font-cinzel text-[11px] text-gold font-bold mt-2 uppercase tracking-wide">
                    (Survey Pada Perusahaan Logistik Swasta Nasional Di Bekasi Raya)
                </p>
                
                <div class="flex items-center justify-center gap-6 my-6 border-t border-white/5 pt-6 font-montserrat">
                    <div class="text-right"><p class="font-bold text-xl text-white uppercase tracking-wider">Kamis</p></div>
                    <div class="h-10 w-px bg-gold/40"></div>
                    <div class="text-left">
                        <p class="text-[10px] text-gold tracking-widest font-bold">Maret</p>
                        <p class="text-2xl font-black text-white leading-none">05</p>
                        <p class="text-[10px] text-gold tracking-widest font-bold">2026</p>
                    </div>
                </div>
                
                <p class="text-[14px] font-bold text-gold uppercase tracking-[0.2em] border-y border-white/10 inline-block px-5 py-2 mb-4 font-playfair whitespace-nowrap">08.00 WIB - Selesai</p>
                <div class="w-full overflow-hidden px-1">
                    <p class="text-[9px] font-bold text-white uppercase mb-1 tracking-widest whitespace-nowrap">Pascasarjana Universitas Pasundan</p>
                </div>
                <p class="text-[9px] text-white/50 italic font-medium">Jl. Sumatera No. 41, Bandung</p>
            </div>
        </div>
    </section>

    <!-- 4. WAKTU -->
    <section id="sec-countdown">
        <div class="w-full max-w-[420px] text-center px-6">
            <h3 class="font-cinzel text-2xl font-bold text-gold mb-10 tracking-[0.4em] uppercase opacity-80 italic">Menghitung Waktu</h3>
            <div class="flex justify-center gap-3">
                <div class="flex flex-col items-center flex-1">
                    <div class="glass-panel py-6 px-1"><span id="days" class="countdown-num">00</span></div>
                    <span class="countdown-label">Hari</span>
                </div>
                <div class="flex flex-col items-center flex-1">
                    <div class="glass-panel py-6 px-1"><span id="hours" class="countdown-num">00</span></div>
                    <span class="countdown-label">Jam</span>
                </div>
                <div class="flex flex-col items-center flex-1">
                    <div class="glass-panel py-6 px-1"><span id="minutes" class="countdown-num">00</span></div>
                    <span class="countdown-label">Menit</span>
                </div>
                <div class="flex flex-col items-center flex-1">
                    <div class="glass-panel py-6 px-1"><span id="seconds" class="countdown-num">00</span></div>
                    <span class="countdown-label">Detik</span>
                </div>
            </div>
            <p class="text-[10px] text-white/20 mt-14 tracking-[0.5em] font-bold uppercase italic border-t border-white/5 pt-5 inline-block px-10 text-center">UNPAS Bandung</p>
        </div>
    </section>

    <!-- 5. TIM (DAFTAR PENELAAH DIPERBARUI ✨) -->
    <section id="sec-promotor" class="sec-scrollable">
        <div class="w-full max-w-[420px] px-10 text-center">
            <!-- Ukuran Judul Diperkecil Sesuai Permintaan ✨ -->
            <h3 class="playfair text-lg font-bold text-gold mb-6 uppercase tracking-[0.3em] border-b border-gold/20 pb-3 italic whitespace-nowrap">Dewan Akademik</h3>
            <div class="space-y-4">
                <div class="glass-panel p-5 bg-black/30 text-left border-gold/15 shadow-xl">
                    <p class="text-[10px] text-gold font-bold uppercase tracking-[0.4em] mb-2 opacity-80">Promotor</p>
                    <p class="font-bold text-[11px] text-white tracking-widest font-playfair leading-tight whitespace-nowrap overflow-hidden text-ellipsis">Prof. Dr. H. M. Sidik Priadana, M.S.</p>
                    <div class="h-px w-full bg-white/5 my-3"></div>
                    <p class="text-[10px] text-gold font-bold uppercase tracking-[0.4em] mb-2 opacity-80">Co Promotor</p>
                    <p class="font-bold text-[11px] text-white tracking-widest font-playfair leading-tight whitespace-nowrap overflow-hidden text-ellipsis">Prof. Dr. H. Dedi Hadian, M.M.</p>
                </div>
                
                <div class="glass-panel p-5 bg-black/10 border-white/5">
                    <p class="text-[9px] text-gold font-bold uppercase tracking-[0.4em] mb-4 italic text-white/60 text-center">Penelaah / Penguji</p>
                    <div class="space-y-2 text-white/90 font-medium text-[12px] text-left font-playfair">
                        <div class="border-b border-white/5 pb-1 flex items-center gap-3">
                            <span class="w-1.5 h-1.5 bg-gold rounded-full"></span>
                            <span class="leading-tight whitespace-nowrap">Prof. Dr. H. Azhar Affandi, M.Sc.</span>
                        </div>
                        <div class="border-b border-white/5 pb-1 flex items-center gap-3">
                            <span class="w-1.5 h-1.5 bg-gold rounded-full"></span>
                            <span class="leading-tight whitespace-nowrap">Prof. Dr. H. M. Didi Turmudzi, M.Si.</span>
                        </div>
                        <div class="border-b border-white/5 pb-1 flex items-center gap-3">
                            <span class="w-1.5 h-1.5 bg-gold rounded-full"></span>
                            <span class="leading-tight whitespace-nowrap">Prof. Dr. H. Bambang Heru P., M.S.</span>
                        </div>
                        <div class="border-b border-white/5 pb-1 flex items-center gap-3">
                            <span class="w-1.5 h-1.5 bg-gold rounded-full"></span>
                            <span class="leading-tight whitespace-nowrap">Prof. Dr. H. Jaja Suteja, S.E., M.Si.</span>
                        </div>
                        <div class="border-b border-white/5 pb-1 flex items-center gap-3">
                            <span class="w-1.5 h-1.5 bg-gold rounded-full"></span>
                            <span class="leading-tight whitespace-nowrap">Prof. Dr. H. Horas Djulius, S.E.</span>
                        </div>
                        <div class="border-b border-white/5 pb-1 flex items-center gap-3">
                            <span class="w-1.5 h-1.5 bg-gold rounded-full"></span>
                            <span class="leading-tight whitespace-nowrap">Prof. Dr. H. M. Sidik Priadana, M.S.</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <span class="w-1.5 h-1.5 bg-gold rounded-full"></span>
                            <span class="leading-tight whitespace-nowrap">Prof. Dr. H. Dedi Hadian, M.M.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 6. PETA -->
    <section id="sec-maps">
        <div class="w-full text-center px-6">
            <h3 class="playfair text-3xl font-bold text-gold mb-8 italic tracking-widest uppercase text-center">Lokasi Acara</h3>
            <a href="https://maps.app.goo.gl/cSqE8X2fFmxj6YKG8" target="_blank" class="block w-full">
                <div class="flex justify-center items-center w-full mb-8">
                    <div class="frame-straight shadow-2xl">
                        <div class="location-visual-card">
                            <div class="map-overlay">
                                <div class="pin-pulse"></div>
                                <svg class="w-10 h-10 text-gold mb-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
                                <div class="bg-black/90 backdrop-blur-md px-5 py-2.5 rounded-full border border-gold/40 shadow-2xl">
                                    <p class="playfair text-gold font-bold text-[8px] uppercase tracking-widest text-center">Buka Google Maps</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
            <div class="glass-panel p-6 border-gold/10 bg-black/20">
                <p class="playfair text-lg text-white font-bold mb-1 uppercase tracking-wider text-center leading-tight">Pascasarjana UNPAS</p>
                <div class="h-px w-12 bg-gold/30 mx-auto mb-3"></div>
                <p class="playfair text-[10px] text-white/80 leading-relaxed font-medium uppercase tracking-tighter text-center px-4">
                    Jl. Sumatera No. 41, Babakan Ciamis, Kec. Sumur Bandung, Kota Bandung, Jawa Barat 40117
                </p>
            </div>
        </div>
    </section>

    <!-- 7. RSVP -->
    <section id="sec-thanks" class="sec-scrollable">
        <div class="w-full max-w-[420px] px-4 text-center">
            <h3 class="playfair text-2xl font-bold text-gold mb-6 uppercase tracking-widest italic">RSVP & Ucapan</h3>
            
            <div class="flex justify-between gap-2 mb-6">
                <div class="recap-item"><p id="count-total" class="text-sm font-bold text-white font-cinzel">0</p><p class="text-[7px] uppercase opacity-50 font-bold tracking-tighter">Tamu</p></div>
                <div class="recap-item"><p id="count-hadir" class="text-sm font-bold text-gold font-cinzel">0</p><p class="text-[7px] uppercase opacity-50 font-bold tracking-tighter">Hadir</p></div>
                <div class="recap-item"><p id="count-ragu" class="text-sm font-bold text-white/70 font-cinzel">0</p><p class="text-[7px] uppercase opacity-50 font-bold tracking-tighter">Ragu</p></div>
                <div class="recap-item"><p id="count-tidak" class="text-sm font-bold text-white/40 font-cinzel">0</p><p class="text-[7px] uppercase opacity-50 font-bold tracking-tighter">Izin</p></div>
            </div>

            <div class="glass-panel p-5 text-left border-gold/15 space-y-3 mb-6 shadow-2xl">
                <div class="grid grid-cols-2 gap-2">
                    <input id="rsvp-name" type="text" placeholder="Nama Lengkap">
                    <select id="rsvp-relation">
                        <option value="Rekan Sejawat">Rekan Sejawat</option>
                        <option value="Keluarga">Keluarga</option>
                        <option value="Mahasiswa">Mahasiswa</option>
                    </select>
                </div>
                <textarea id="rsvp-message" placeholder="Tulis doa atau ucapan terbaik..." rows="2"></textarea>
                <select id="rsvp-status">
                    <option value="" disabled selected>Konfirmasi Kehadiran</option>
                    <option value="Hadir">Hadir</option>
                    <option value="Masih Ragu">Masih Ragu</option>
                    <option value="Tidak Hadir">Tidak Hadir</option>
                </select>
                <button id="btn-send-rsvp" onclick="submitRSVP()" class="bg-gold text-deep-sage font-black py-3.5 rounded-xl text-[11px] uppercase shadow-xl w-full tracking-widest active:scale-95 transition-all">Kirim Konfirmasi</button>
            </div>

            <div id="public-messages" class="w-full shadow-inner bg-black/10 rounded-2xl p-3 mb-8">
                <p class="text-[10px] opacity-30 italic py-4 text-center">Memuat ucapan...</p>
            </div>
            
            <div class="text-center">
                <p class="text-[11px] uppercase tracking-[0.6em] opacity-40 mb-1 font-bold font-playfair text-center">Hormat Saya,</p>
                <!-- Penulisan Proper Case Untuk Nama ✨ -->
                <h2 class="font-playfair text-lg font-bold text-gold tracking-widest leading-tight whitespace-nowrap overflow-hidden text-ellipsis px-2">Dr. Wahyitno, S.Pd., M.M.</h2>
            </div>
        </div>
    </section>

    <!-- NAVIGASI -->
    <div id="nav-container" class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[96%] max-w-[440px] z-[300]">
        <nav class="bottom-nav shadow-2xl">
            <button onclick="scrollToSection('sec-opening')" class="nav-link"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg><span>Home</span></button>
            <button onclick="scrollToSection('sec-profil')" class="nav-link"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg><span>Profil</span></button>
            <button onclick="scrollToSection('sec-acara')" class="nav-link"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><span>Acara</span></button>
            <button onclick="scrollToSection('sec-countdown')" class="nav-link"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Waktu</span></button>
            <button onclick="scrollToSection('sec-promotor')" class="nav-link"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg><span>Tim</span></button>
            <button onclick="scrollToSection('sec-maps')" class="nav-link"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path></svg><span>Peta</span></button>
            <button onclick="scrollToSection('sec-thanks')" class="nav-link"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span>RSVP</span></button>
        </nav>
    </div>
</div>

<script>
    const audio = document.getElementById("bg-music");
    let isPlaying = false;

    window.toggleMusic = function() {
        if (isPlaying) audio.pause(); else audio.play();
        isPlaying = !isPlaying;
    };

    window.bukaUndangan = function() {
        scrollToSection('sec-profil');
        if (!isPlaying) {
            audio.play().catch(() => {});
            isPlaying = true;
        }
    };

    window.scrollToSection = (id) => {
        const el = document.getElementById(id);
        if(el) el.scrollIntoView({ behavior: 'smooth' });
    };

    function startCountdown() {
        const eventDate = new Date("March 5, 2026 08:00:00").getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const diff = eventDate - now;
            if (diff > 0) {
                const safeSet = (id, val) => { const el = document.getElementById(id); if(el) el.innerText = val.toString().padStart(2, '0'); };
                safeSet("days", Math.floor(diff / (1000 * 60 * 60 * 24)));
                safeSet("hours", Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)));
                safeSet("minutes", Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60)));
                safeSet("seconds", Math.floor((diff % (1000 * 60)) / 1000));
            }
        }, 1000);
    }

    function alertModal(msg) {
        const div = document.createElement('div');
        div.className = "fixed inset-0 z-[1000] flex items-center justify-center px-10 bg-black/90 backdrop-blur-sm";
        div.innerHTML = `<div class="glass-panel p-8 text-center max-w-sm border-gold/40 shadow-2xl"><p class="text-[12px] mb-6 text-white leading-relaxed font-medium text-center font-playfair">${msg}</p><button onclick="this.parentElement.parentElement.remove()" class="btn-pop">Tutup</button></div>`;
        document.body.appendChild(div);
    }

    const container = document.getElementById('app-container');
    container.addEventListener('scroll', () => {
        const sections = ['sec-opening', 'sec-profil', 'sec-acara', 'sec-countdown', 'sec-promotor', 'sec-maps', 'sec-thanks'];
        let current = '';
        sections.forEach(s => {
            const el = document.getElementById(s);
            if(el) {
                const rect = el.getBoundingClientRect();
                if (rect.top >= -150 && rect.top <= 150) current = s;
            }
        });
        document.querySelectorAll('.nav-link').forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('onclick').includes(current)) btn.classList.add('active');
        });
    });
</script>

</body>
</html>
